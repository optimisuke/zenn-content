---
title: "Dockerä½¿ã£ã¦ã‚µã‚¯ãƒƒã¨NestJSã®ç’°å¢ƒæ§‹ç¯‰"
emoji: "ğŸˆâ€â¬›"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [nestjs, docker, typescript]
published: true
---

# ã¯ã˜ã‚ã«

Docker ã‚’ä½¿ã£ã¦ã‚µã‚¯ãƒƒã¨ NestJS ã®ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚

:::message
Docker ä½¿ã‚ãªã„ãªã‚‰ã€å…¬å¼ã® First steps ã‚’è¸ã‚ã°ã€å‹•ãã‚‚ã®ãŒã§ãã¾ã™ã€‚
[First steps | NestJS - A progressive Node.js framework](https://docs.nestjs.com/first-steps)

ä¸‹è¨˜ã‚µã‚¤ãƒˆã‚’å¤§ã„ã«å‚è€ƒã«ã—ã¦ã‚‹ã®ã§ã€MySQL ã¨ç¹‹ããŸã„äººã¯ã“ã£ã¡å‚ç…§ã§ã™ã€‚
[Docker ã‚’åˆ©ç”¨ã—ã¦ NestJS ï¼‹ TypeORM+MySQL ã®ç’°å¢ƒæ§‹ç¯‰ã™ã‚‹](https://zenn.dev/senri/articles/331162304a78e0)
:::

# Docker

ã“ã‚“ãªæ„Ÿã˜ã§ã€`Dockerfile`ã¨`docker-compose.yml`ã‚’æº–å‚™ã—ã¾ã™ã€‚

```Dockerfile:Dockerfile
FROM node
RUN npm i -g @nestjs/cli
WORKDIR /api
```

```yml:docker-compose.yml
version: "3.8"
services:
  api:
    container_name: api
    build: .
    tty: true
    ports:
      - "3000:3000"
    volumes:
      - type: bind
        source: .
        target: /api
```

# NestJS

ã‚³ãƒ³ãƒ†ãƒŠã‚’ç«‹ã¡ä¸Šã’ã¾ã™ã€‚

```
docker compose up -d
```

ã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã‚Šã¾ã™ã€‚
ï¼ˆVSCode ä½¿ã£ã¦ã‚‹ã®ã§ã€GUI ã§ä¸‹è¨˜ç”»é¢ã®å ´æ‰€ã‹ã‚‰ãƒãƒãƒãƒã—ã¦å…¥ã£ã¦ã¾ã™ã€‚ã™ã”ãä¾¿åˆ©ã€‚ï¼‰

![](/images/17ee6aba316e47/vscode.png)

`/app`ãƒ•ã‚©ãƒ«ãƒ€ã§ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
`nest new`ã®å¾Œã«ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€`/app`ãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ãŒå±•é–‹ã•ã‚Œã¾ã™ã€‚
package.json å†…ã® name ã¯ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã®`app`ã«ãªã‚Šã¾ã—ãŸã€‚

```bash
nest new .
```

ã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¾ã™ã€‚

```bash
npm start
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§`http://localhost:3000/`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€`Hello World!`ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã‚„ã£ãŸã­ï¼

:::message
å…¬å¼ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚ã‚‹ã‚“ã§ã™ãŒã€Node.js ã‚‚ NestJS ã‚‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ãã†ã§ã™ãƒ»ãƒ»ãƒ»ã€‚
[nestjs/cli Tags | Docker Hub](https://hub.docker.com/r/nestjs/cli/tags)
ãªãœã‹ã€VSCode ã‹ã‚‰`Attach Visual Studio Code`ã‚‚ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ï¼ˆ`Attach Shell`ã¯ã§ãã¾ã™ã€‚ï¼‰

ä»¥ä¸‹ã®è¨˜äº‹ã‚’å‚è€ƒã«ã‚„ã‚ã†ã¨ã—ãŸã‚“ã§ã™ãŒã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ãã†ãªã®ã§ã‚„ã‚ã¾ã¨ãã¾ã—ãŸã€‚
[docker ã§ç°¡å˜ã« NestJS ã®ç’°å¢ƒã‚’ä½œã‚‹ - Qiita](https://qiita.com/Gma_Gama/items/def2643aaa7f5f7af41d)

ä¸Šè¨˜è¨˜äº‹ã®ä¸­ã§`package.js`ã®`name`ã‚’å¤‰æ›´ã—ã¦ã¾ã™ãŒã€æœ€è¿‘ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯æ—¢ã«è§£æ±ºã•ã‚Œã¦ã¾ã™ã€‚
[Installation fails if you create new Nest app inside existing directory Â· Issue #222 Â· nestjs/nest-cli](https://github.com/nestjs/nest-cli/issues/222)
:::

# ãŠã‚ã‚Šã«

NestJS é£Ÿã‚ãšå«Œã„ã§ã—ãŸãŒã€ã‚·ãƒ³ãƒ—ãƒ«ãª API ã‚µãƒ¼ãƒãƒ¼ç«‹ã¡ä¸Šã’ã‚‹ãã‚‰ã„ãªã‚‰ã¨ã£ã¤ãã‚„ã™ã‹ã£ãŸã§ã™ã€‚
ãã®ã†ã¡ã€è‰²ã€…è§¦ã£ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚

ãã‚Œã¨ã€æœ€è¿‘ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’è©¦ã™æ™‚ã¯ Docker ã‚³ãƒ³ãƒ†ãƒŠä¸Šã§ã‚„ã‚‹ã‚ˆã†ã«ã—ã¦ã‚‹ã‚“ã§ã™ãŒã€ãªãœã‹æ¯å›ã¤ã¾ã¥ãã®ã¨ã€`docker-compose.yml`ã‚‚`Dockerfile`ã‚‚ãªã‹ãªã‹è¦šãˆã‚‰ã‚Œãªã„ãªãã¨ãªã£ã¦ã¾ã™ã€‚ã‚³ãƒ”ãƒšã›ãšã«ã‚µã‚¯ãƒƒã¨æ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚ŠãŸã„ã€‚
