---
title: "ğŸ‘«"
emoji: "Goã§ãƒã‚¤ãƒˆãƒªãƒ¼ãƒ€ãƒ¼"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [go]
published: true
---

# ã¯ã˜ã‚ã«
Goã§ã€`bytes.Reader`ã¨ã‹`binary.Read()`ã¨ã‹ä½¿ã£ãŸã®ã§ãƒ¡ãƒ¢ã€‚
ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã¯ãƒã‚¤ãƒˆãƒªãƒ¼ãƒ€ãƒ¼ã£ã¦è¨€ã£ã¦ã¿ãŸã‹ã£ãŸã ã‘ã€‚ï¼‰

# ãƒã‚¤ãƒŠãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§æ§‹é€ ä½“ã«è©°ã‚ã‚‹
ãªã‚“ã‹ã€ã“ã‚“ãªæ„Ÿã˜ã§æ§‹é€ ä½“ã‚’ç”¨æ„ã—ã¦ã€`binary.Read()`ã—ãŸã‚‰ã„ã„æ„Ÿã˜ã«è©°ã‚ã¦ãã‚Œã‚‹ã€‚ç¶šã‘ã¦ã€åˆ¥ã®æ§‹é€ ä½“ã«`binary.Read()`ã—ãŸã‚‰ã„ã„æ„Ÿã˜ã«ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã®ã¤ã¥ãã‹ã‚‰èª­ã¿å–ã£ã¦ãã‚Œã‚‹ã€‚
ã‚¨ãƒ³ãƒ‡ã‚£ã‚¢ãƒ³ã‚‚ã•ã‚‰ã£ã¨æŒ‡å®šã§ãã‚‹ã€‚
é©å½“ã«åˆ‡ã‚Šè²¼ã‚Šã—ãŸã‹ã‚‰ã€ã‚‚ã—ã‹ã—ãŸã‚‰ãã®ã¾ã¾ã§ã¯å‹•ã‹ãªã„ã‹ã‚‚ã€‚ã€‚ã€‚


```go
package hoge

import (
	"bytes"
	"encoding/binary"
	"io"
	"os"
)

type (
	Data struct {
		Hoge uint8
		Fuga uint8
	}
)
func hoge(path string) (*Data, error) {
	file, err := os.Open(path)
	if err != nil {
		return nil, err
	}
	defer file.Close()

	buf, err := io.ReadAll(file)
	if err != nil {
		return nil, err
	}
	byteReader := bytes.NewReader(buf)

	var data Data
	err := binary.Read(byteReader, binary.BigEndian, &data)
	if err != nil {
		return nil, err
	}
    return &data, nil
}
```

# çµ‚ã‚ã‚Šã«
Goã¯ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿æ‰±ã†ã®ã‚‚æ¥½ã€‚ç´ æ™´ã‚‰ã—ã„ã€‚

# å‚è€ƒ
[binary package - encoding/binary - pkg.go.dev](https://pkg.go.dev/encoding/binary#Read)
